
<button class = "btn btn-default"
		ui-sref = "parameter">
		&#x25c0;	{{'Back to parameters'|translate}}
</button>

<h3>
	{{'Edit Parameter'|translate}}
</h3>
<!--  <form name="parameterForm">  -->

<br/>
<table class = "table">
<tr ng-dblclick = "editParamCtrl.NL1.editing = true">
	<td>Name ({{editParamCtrl.lang1}}):</td>
	<td>
		<string-parameter  
            parameter = "editParamCtrl.NL1"
            pupdate = "editParamCtrl.update2({parameter:editParamCtrl.NL1})">
        </string-parameter>
	</td>
</tr>
<tr ng-dblclick = "editParamCtrl.NL2.editing = true">
	<td>Name ({{editParamCtrl.lang2}}):</td>
	<td>
		<string-parameter  
            parameter = "editParamCtrl.NL2"
            pupdate = "editParamCtrl.update2({parameter:editParamCtrl.NL2})">
        </string-parameter>
	</td>
</tr>

<tr ng-dblclick = "editParamCtrl.DL1.editing = true">
	<td>{{'Description'|translate}} ({{editParamCtrl.lang1}}):</td>
	<td>
		<string-parameter  
            parameter = "editParamCtrl.DL1"
            pupdate = "editParamCtrl.update2({parameter:editParamCtrl.DL1})">
        </string-parameter>
	</td>
</tr>

<tr ng-dblclick = "editParamCtrl.DL2.editing = true">
	<td>{{'Description'|translate}} ({{editParamCtrl.lang2}}):</td>
	<td>
		<string-parameter  
            parameter = "editParamCtrl.DL2"
            pupdate = "editParamCtrl.update2({parameter:editParamCtrl.DL2})">
        </string-parameter>
	</td>
</tr>

<tr ng-dblclick = "editParamCtrl.unitL1.editing = true" ng-show = "editParamCtrl.mightHaveUnit()">
	<td>{{'Unit'|translate}} ({{editParamCtrl.lang1}}):</td>
	<td>
		<string-parameter
            parameter = "editParamCtrl.unitL1"
            pupdate = "editParamCtrl.update2({parameter:editParamCtrl.unitL1})">
        </string-parameter>
	</td>
</tr>

<tr ng-dblclick = "editParamCtrl.unitL2.editing = true"  ng-show = "editParamCtrl.mightHaveUnit()">
	<td>{{'Unit'|translate}} ({{editParamCtrl.lang2}}):</td>
	<td>
		<string-parameter
		    parameter = "editParamCtrl.unitL2"
            pupdate = "editParamCtrl.update2({parameter:editParamCtrl.unitL2})">
		</string-parameter>
	</td>
</tr>

<tr>
	<td>{{'Datatype'|translate}}:</td>
	<td>
		<select class = "input-sm"
				ng-options = "type as type for type in editParamCtrl.dataTypes"
				ng-model = "editParamCtrl.dataType"
				ng-change = "editParamCtrl.update('datatype',editParamCtrl.dataType)">
	    </select>
    </td>
</tr>

<tr ng-dblclick = "editParamCtrl.edit('format')" ng-show = "editParamCtrl.showFormat()">
<td>{{'Format'|translate}}</td>
	<td><span ng-hide = "editParamCtrl.editFormat">{{editParamCtrl.format}}</span>
		<input ng-show = "editParamCtrl.editFormat" 
			   ng-keyup = "editParamCtrl.keyUp($event.keyCode,'format',editParamCtrl.newFormat)"
			   type = "text"
			   ng-model = "editParamCtrl.newFormat"
			   ng-blur = "editParamCtrl.cancelEdit()"
			   >
	</td>
</tr>
<!-- 
<tr ng-dblclick="editParamCtrl.edit('regex')">
<td>{{'Regular expression'|translate}}</td>
	<td><span ng-hide="editParamCtrl.editRegex">{{editParamCtrl.regex}}</span>
		<input ng-show="editParamCtrl.editRegex" 
			   ng-keyup="editParamCtrl.keyUp($event.keyCode,'Regex')"
			   type="text"
			   ng-model="editParamCtrl.newRegex"
			   ng-blur="editParamCtrl.cancelEdit()">
	</td>
</tr>
 -->
<tr ng-dblclick = "editParamCtrl.edit('min')" 
	ng-show = "editParamCtrl.showMinMaxNumber()">

<tr ng-dblclick = "editParamCtrl.edit('min')" 
	ng-show = "editParamCtrl.showMinMaxNumber()">
<td>{{'Minimum'|translate}}</td>
	<td><span ng-hide = "editParamCtrl.editMin">{{editParamCtrl.min}}</span>
		<input ng-show = "editParamCtrl.editMin" 
			   ng-keyup = "editParamCtrl.keyUp($event.keyCode,'min',editParamCtrl.newMin)"
			   type = "number"
			   ng-model = "editParamCtrl.newMin"
			   ng-blur = "editParamCtrl.cancelEdit()"
			   >
	</td>
</tr>

<tr ng-dblclick = "editParamCtrl.edit('max')" 
	ng-show = "editParamCtrl.showMinMaxNumber()">
<td>{{'Maximum'|translate}}</td>
	<td><span ng-hide = "editParamCtrl.editMax">{{editParamCtrl.max}}</span>
		<input ng-show = "editParamCtrl.editMax" 
			   ng-keyup = "editParamCtrl.keyUp($event.keyCode,'max',editParamCtrl.newMax)"
			   type = "number"
			   ng-model = "editParamCtrl.newMax"
			   ng-blur = "editParamCtrl.cancelEdit()"
			   >
	</td>
</tr>

<tr ng-show = "editParamCtrl.dataType == 'sample'" >
	<td>{{'Sampletype'|translate}}</td>
	<td>
		<select class = "input-sm"
				ng-options = "stype as stype.namef() for stype in editParamCtrl.sampleTypes"
				ng-model = "editParamCtrl.sampleType"
				ng-change = "editParamCtrl.update('sampletype',editParamCtrl.sampleType.id)">
	    </select>
	</td>
</tr>

<!-- 
<tr ng-dblclick="editParamCtrl.edit('min')" ng-show="editParamCtrl.showMinMaxTimestamp()">
<td>{{'Minimum'|translate}}</td>
	<td><span ng-hide="editParamCtrl.editMin">{{editParamCtrl.min}}</span>
		<input ng-show="editParamCtrl.editMin" 
			   ng-keyup="editParamCtrl.keyUp($event.keyCode,'Min')"
			   type="date"
			   ng-model="editParamCtrl.newMin"
			   ng-blur="editParamCtrl.cancelEdit()"
			   >
	</td>
</tr>

<tr ng-dblclick="editParamCtrl.edit('max')" ng-show="editParamCtrl.showMinMaxTimestamp()">
<td>{{'Maximum'|translate}}</td>
	<td><span ng-hide="editParamCtrl.editMax">{{editParamCtrl.min}}</span>
		<input ng-show="editParamCtrl.editMax" 
			   ng-keyup="editParamCtrl.keyUp($event.keyCode,'Max')"
			   type="date"
			   ng-model="editParamCtrl.newMax"
			   ng-blur="editParamCtrl.cancelEdit()"
			   >
	</td>
</tr>
 -->

</table>



<div ng-show = "editParamCtrl.dataType == 'chooser'">
	<h4>{{'Possible values'|translate}}</h4>
	
	<table id = "table-container">
	    <tbody data-ng-model = "possibleValues" data-as-sortable = "dragControlListeners">
		    <tr ng-repeat = "item in possibleValues" as-sortable-item style = "padding: 7px; white-space : nowrap" >
		        <td as-sortable-item-handle>
			      	<span ng-hide = "item.edit" ng-dblclick = "item.edit = true">
			        	<span class = "glyphicon glyphicon-menu-hamburger">&nbsp;
			        	</span> 
		          	{{item.string}} &nbsp;
		          	</span>
		            <input ng-show = "item.edit"
			            	type = "text"
			            	ng-model = "item.string"
			            	ng-keyup = "editParamCtrl.keyUpPValue(item,$event.keyCode)"
			            	autofocus>
		        </td>
		        <td class = "visible-xs" ng-click = "item.edit = true">
			        <a>
						<span ng-hide = "item.edit" class = "glyphicon glyphicon-wrench" aria-hidden = "true">
						</span> &nbsp;
					</a>
				</td>
		        <td ng-click = "editParamCtrl.deletePossibleValue(item)">
		            <span  class = "glyphicon glyphicon-remove">
		            </span>
		    		</td>
		    </tr>
	    </tbody>
	</table>
	<br/>
	
	<button type = "button" 
			class = "btn btn-default" 
			ng-click = "editParamCtrl.addPossibleValue()" >
		<b>+</b> {{'Add possible Value'|translate}}
	</button>
</div>


<br/>
<br />






