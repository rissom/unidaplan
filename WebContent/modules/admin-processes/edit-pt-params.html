<button type = "button" 
		class = "btn btn-default" 
		ui-sref = "adminProcesses" >
	<b>&larr;</b><b>&larr;</b> {{'all processtypes'|translate}}
</button>

<button type = "button" 
		class = "btn btn-default" 
		ui-sref = "editPtParamGrps({processTypeID:editPtParamsCtrl.processtype})" >
	<b>&larr;</b> {{'processtype'|translate}}
	{{editPtParamsCtrl.getPTName()}}
</button>

<h3>
	{{'Edit Parametergroup'|translate}}
</h3>

<br/>
<h4>{{'General information'|translate}}</h4>

<table class = "table">
<tr ng-dblclick = "editPtParamsCtrl.nL1.editing = true">
	<td>Name ({{editPtParamsCtrl.lang1}}):</td>
	<td>
        <string-parameter
           parameter = "editPtParamsCtrl.nL1"
           pupdate   = "editPtParamsCtrl.updateParamGrpName(editPtParamsCtrl.nL1)">
        </string-parameter>
	</td>
</tr>
<tr ng-dblclick = "editPtParamsCtrl.nL2.editing = true">
	<td>Name ({{editPtParamsCtrl.lang2}}):</td>
	<td>
		<string-parameter
           parameter = "editPtParamsCtrl.nL2"
           pupdate   = "editPtParamsCtrl.updateParamGrpName(editPtParamsCtrl.nL2)">
        </string-parameter>
</tr>
</table>
<br/>


<h4>{{'Parameters'|translate}}</h4>


<table class = "table">
	<thead class = parametertablehead>
		<tr>
			<td></td>
			<td class = "parametertd">
	 			{{'Name'|translate}} ({{editPtParamsCtrl.lang1}})
			</td>
			<td class = "parametertd">
	 			{{'Name'|translate}} ({{editPtParamsCtrl.lang2}})
			</td>
						<td class = "parametertd">
	 			{{'Unit'|translate}} ({{editPtParamsCtrl.lang1}})
			</td>
			<td class = "parametertd">
	 			{{'Unit'|translate}} ({{editPtParamsCtrl.lang2}})
			</td>
			<td class = "parametertd">
	 			{{'Compulsory'|translate}}
			</td>
			<td class = "parametertd">
	 			{{'Formula'|translate}}
			</td>
			<td class = "parametertd">
	 			{{'Hidden'|translate}}
			</td>
			<td class = "parametertd">
				{{'action'|translate}}
			</td>
		</tr>
	</thead>
	
	
	<tbody>
		<tr ng-repeat = "parameter in editPtParamsCtrl.parameters | orderBy : 'pos'">
			<td class = "parametertd">
				<button 
					type = "button" 
					class = "btn btn-default btn-xs" 
					ng-click = "editPtParamsCtrl.up($index)"   
					ng-hide = "$first">&#9650;
				</button>
				<button 
					type = "button" 
					class = "btn btn-default btn-xs" 
					ng-click = "editPtParamsCtrl.down($index)" 
					ng-hide = "$last" >&#9660;
				</button>
			</td> 
			<td 
				class = "parametertd" 
				ng-dblclick = "editPtParamsCtrl.editNL1(parameter)">
				<span ng-hide = "parameter.editNL1">
					{{parameter.nameLang(editPtParamsCtrl.lang1key)}}
				</span>
			</td>
			<td class = "parametertd" ng-dblclick = "editPtParamsCtrl.editNL2(parameter)">
				<span ng-hide = "parameter.editNL2">
					{{parameter.nameLang(editPtParamsCtrl.lang2key)}}
				</span>
			</td>
			<td class = "parametertd" ng-dblclick = "editPtParamsCtrl.editNL1(parameter)">
					{{parameter.unitLang(editPtParamsCtrl.lang1key)}}
			</td>
			<td class = "parametertd" ng-dblclick = "editPtParamsCtrl.editNL2(parameter)">
					{{parameter.unitLang(editPtParamsCtrl.lang2key)}}
			</td>
			<td class="parametertd" >	
				<input 
					type = "checkbox" 
					ng-model = "parameter.compulsory" 
					ng-change = "editPtParamsCtrl.setCompulsory(parameter)">
			</td>
			<td class = "parametertd">		
	 			{{parameter.formula}}
			</td>
			<td class = "parametertd">	
				<input 
			      	type = "checkbox" 
			      	ng-model = "parameter.hidden" 
			      	ng-change = "editPtParamsCtrl.setHidden(parameter)">
			</td>
			
		
			<td class = "parametertd" >
				<div class = "dropdown" uib-dropdown on-toggle = "toggled(open)">
					<a class = "dropdown-toggle" uib-dropdown-toggle>
			  			{{'action'|translate}} &#x25BC;
				    </a>
				    <ul class = "dropdown-menu">
				    	<li ng-repeat = "action in parameter.actions" ng-class = "{disabled:action.disabled}">
				        	<a ng-click = "editPtParamsCtrl.performAction(parameter,action)">{{action.name}}</a>
				        </li>
				    </ul>
	  			</div>
			</td>

		</tr>
		
	</tbody>
</table>
<br />


<button type = "button" 
		class = "btn btn-default" 
		ng-click = "editPtParamsCtrl.addParameter()" >
	<b>+</b> {{'Add Parameter'|translate}}
</button>

<br/>
<br/>
<br/>